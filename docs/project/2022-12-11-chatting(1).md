---
layout: default
title: 1. í˜„ìž¬ í”„ë¡œì íŠ¸ì˜ ë¬¸ì œì ê³¼ í•´ê²°ë°©ë²•
parent: ðŸ“Œ ì‹¤ì‹œê°„ ì±„íŒ…ì„œë²„ í”„ë¡œì íŠ¸
nav_order: 1
---


### 1. í˜„ìž¬ì˜ ë‹¨ê³„
í˜„ìž¬ê¹Œì§€ **version1 ì‹¤ì‹œê°„ ì±„íŒ…ë°© êµ¬í˜„ì„ ìœ„í•œ STOMP/Spring ì—°ë™ì´ ì™„ë£Œ**ë˜ì—ˆë‹¤. ìƒì„¸í•œ ë‚´ìš©ê³¼ ì½”ë“œëŠ” ë‹¤ìŒì˜ github ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.
* GITHUB : [https://github.com/ghkdqhrbals/spring-chatting-server/tree/v1](https://github.com/ghkdqhrbals/spring-chatting-server/tree/v1)
* v1 ë™ìž‘ : [https://www.youtube.com/watch?v=nwD3AX6CJcc](https://www.youtube.com/watch?v=nwD3AX6CJcc)

### 2. í”„ë¡œì íŠ¸ì˜ ë¬¸ì œì 
* ë¶€ì¡±í•œ ìž¥ì• ëŒ€ì‘

  Kafkaë¥¼ ì‚¬ìš©í•˜ê¸° ì´ì „ì—ëŠ” ì•„ëž˜ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ”ê²ƒì„ ëª©í‘œë¡œ í•˜ì˜€ì—ˆë‹¤.
  > Kafka ì´ì „ì— ê³ ë ¤í–ˆë˜ ì 
  > * í”„ë¡ íŠ¸ì—ì„œ WebClientë¥¼ ì‚¬ìš©í•´ì„œ RestApií˜¸ì¶œí•  ë•Œ, Springì˜ WebClientë¥¼ ë¹„ë™ê¸° + Non-Blockingìœ¼ë¡œ ì„¤ê³„í•  ê²ƒ. ì´ë ‡ê²Œ ë˜ë©´ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ìŒ.
  > 1. í”„ë¡ íŠ¸ì—ì„œ @Asyncì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë¹„ë™ê¸° private í•¨ìˆ˜ í˜¸ì¶œ(ì´ë•Œ, websocketìœ¼ë¡œ `ì§„í–‰ì¤‘`í‘œì‹œ)
  > 2. ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ webClientë¥¼ .subscribe(result-> hashset... )ë¡œ non-blockingì„¤ì •í•˜ê³  **restapië“¤**(**í•˜ë‚˜ì˜ apië¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ non-blockingì˜ë¯¸ê°€ ì—†ë‹¤. í˜¸ì¶œì´ ì—¬ëŸ¬ê°œì—¬ì•¼ì§€ í•œë°©ì— ë‹¤ ë³´ë‚´ê³  waitìœ¼ë¡œ ê¸°ë‹¤ë¦´ ë–„, ì„±ëŠ¥í–¥ìƒì„ ê¸°ëŒ€í•  ìˆ˜ ìžˆê¸°ë•Œë¬¸**)ì„ í˜¸ì¶œí•˜ê³  wait
  > 3. ë¹„ë™ê¸°í•¨ìˆ˜ ë‚´ webClientì˜ responseê°€ ë„ì°©í•˜ë©´ websocketìœ¼ë¡œ ë°ì´í„° í‘œì‹œ

  í•˜ì§€ë§Œ ì´ë ‡ê²Œ ì„¤ê³„í•œë‹¤ë©´, **ë°±ì—”ë“œ ì„œë²„ê°€ ì£½ì—ˆì„ ë•Œ** ë‹¤ë¥¸ ì„œë²„ë¡œ ëˆ„ê°€ ëŒ€ì‹  ìš”ì²­ì„ ì˜®ê²¨ì¤„ ìˆ˜ê°€ ì—†ë‹¤. ì¦‰, **ìž¥ì• ëŒ€ì‘ì´ ë¶ˆê°€ëŠ¥**í•˜ë‹¤.

* ë¡œê·¸ê¸°ë¡ ì €ìž¥ ë¶€í•˜ ë°œìƒ(ë¹„ë™ê¸° ë¬¸ì œì )

  ë¡œê·¸ê¸°ë¡ì€ ë°”ë¡œë°”ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ **Eventually Consistance** ë§Œ ëœë‹¤ë©´ ì‹¤ì œë¡œ ë¡œê·¸ë¥¼ ì €ìž¥í•˜ëŠ” ì‹œì ì„ ë³´ìž¥í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. í•˜ì§€ë§Œ, ê¸°ì¡´ì˜ êµ¬ì¡°ì—ì„œëŠ” ë°”ë¡œë°”ë¡œ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ì´ê¸°ì— ë¶€í•˜ê°€ ë°œìƒí–ˆë‹¤.
  Future ê°ì²´ë‚˜ Flux ê°ì²´ë¡œ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ ê²°êµ­ ìµœì¢…ì ìœ¼ë¡œ .get() ì´ë‚˜ .subscribe() ë¥¼ í†µí•´ì„œ ê²°ê³¼ë¥¼ ìˆ˜ì‹ í•´ì•¼ë§Œ í•œë‹¤. ì¦‰, ì™„ì „í•œ ë¹„ë™ê¸°ëŠ” ì•„ë‹ˆë¼ëŠ” ëœ»ì´ë‹¤.

### 3. ìž¥ì• ëŒ€ì‘ê³¼ ë¹„ë™ê¸°ëŠ” ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìžˆì„ê¹Œ? = Kafka ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ ì‚¬ìš©
1. **ìž¥ì•  ëŒ€ì‘ ìš©ì´**

   KafkaëŠ” ìž¥ì• ëŒ€ì‘ì´ ìš©ì´í•˜ë‹¤. íŠ¹ì • ì„œë²„ê°€ ì£½ì—ˆì„ ë•Œ, ë‹¤ë¥¸ ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ë„ë¡ ì„¤ì •ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” Kafkaê°€ ì£½ì—ˆì„ ë•Œë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤. ì¹´í”„ì¹´ í´ëŸ¬ìŠ¤í„° ë‚´ íŠ¹ì • ë°ì´í„° í(topic-partition)ì„ ë„ë§¡ì•„(leader partition) ì²˜ë¦¬í•˜ëŠ” ì¹´í”„ì¹´ ì„œë²„(broker)ê°€ ì£½ì–´ë„ ë‹¤ë¥¸ ì¹´í”„ì¹´ ì„œë²„ ë‚´ ì‹±í¬ëœ í(follow partition)ê°€ ëŒ€ì‹ í•´ì„œ ì²˜ë¦¬í•˜ë„ë¡ ëŒ€ìž¥ ì¹´í”„ì¹´ ì„œë²„(controller broker)ê°€ ìž¥ì• ë¥¼ ëŒ€ì‘í•´ì¤€ë‹¤. ì´ ëŒ€ìž¥ ì¹´í”„ì¹´ ì„œë²„ëŠ” zookeeperì— ì˜í•´ ì„ ì •/ê´€ë¦¬ëœë‹¤.

2. **ë¡œê¹…ì— ëŒ€í•œ ì™„ì „í•œ ë¹„ë™ê¸° ì§€ì›**

   ì›ëž˜ëŠ” ë¡œê¹…ì„ DB ì— INSERT í•˜ê³  ê·¸ ê²°ê³¼ê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í–ˆë‹¤ë©´, Kafka ëŠ” ì „ë‹¬ë§Œ í•˜ê³  ê²°ê³¼ê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šì•„ë„ ëœë‹¤. Consumer ì´ ì•Œì•„ì„œ ì´ë²¤íŠ¸ë¥¼ êº¼ë‚´ì“°ëŠ” í˜•íƒœì¸ Kafka ëŠ” ë¡œê¹…ì— ê·¸ì•¼ë§ë¡œ ì™„ì „í•œ ë¹„ë™ê¸°ë¥¼ ì§€ì›í•œë‹¤.
   ë¬¼ë¡ , ì´ë²¤íŠ¸ì˜ ë©±ë“±ì„±ì„ ê³ ë ¤í•´ì•¼í•œë‹¤(ì´ë²¤íŠ¸ ID ë¥¼ ë”°ë¡œ PK ë¡œ ì ì–´ì¤€ë‹¤ë˜ê°€ ë“±ë“±). 

3. (ì¶”ê°€)**í™•ìž¥ì„± ìš©ì´**

   ì¹´í”„ì¹´ëŠ” ConsumerGroupì´ ë°ì´í„°(topic)ì™€ ë§¤ì¹­ë˜ì–´ ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìžˆë„ë¡ ë„ì™€ì¤€ë‹¤. ConsumerGroupì€ ì‰½ê²Œ ìƒê°í•´ì„œ ê°™ì€ ê¸°ëŠ¥ì˜ ì„œë²„(Consumer)ë¥¼ **ìˆ˜í‰ì ìœ¼ë¡œ í™•ìž¥**í•´ë†“ì€ ì§‘í•©ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ConsumerGroupë‚´ ì„œë²„(Consumer)ë“¤ ì¤‘ í•˜ë‚˜ê°€ ì£½ìœ¼ë©´, ê·¸ ì„œë²„ì—ì„œ ì²˜ë¦¬í•˜ë˜ íŠ¹ì • ë°ì´í„°(topic-partition)ë“¤ì„ ë‹¤ë¥¸ ì„œë²„ê°€ ì´ì–´ë°›ì•„ ì²˜ë¦¬í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤.

ì¦‰, ë°ì´í„°ì˜ ë°±ë³¸ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” Kafkaë¥¼ í†µí•´ ìž¥ì• ëŒ€ì‘ê³¼ ë¶€ê°€ê¸°ëŠ¥ ë¹„ë™ê¸° ìˆ˜í–‰ì—ì„œ ì´ì ì„ ê°€ì ¸ê°ˆ ìˆ˜ ìžˆë‹¤.

### 4. ì–´ë–¤ì‹ìœ¼ë¡œ Kafka ë¥¼ implementí•´ì•¼í• ê¹Œ?
ì¼ë‹¨ Kafkaì˜ topicì€ stompì²˜ëŸ¼ ë§Žì´ ìƒì„±í•  ìˆ˜ ì—†ë‹¤. ì´ëŠ” brokerìˆ˜ë§Œí¼ topicì˜ replicaë¥¼ ê°ë‹¹í•´ì•¼í•˜ë©°, ëª¨ë“  topicë“¤ì˜ partition(ISR-InSync-Replica)ë“¤ì€ follow partitionë“¤ê³¼ syncê³¼ì •ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ê°ê¸° brokerì— ê±¸ë¦¬ëŠ” ë¶€í•˜ëŠ” (ì´ brokerê°œìˆ˜)*(topicê°œìˆ˜*partitionê°œìˆ˜) ì´ìƒì´ë‹¤. ì¦‰, **topic ê°œìˆ˜ì— limitì— ì¡´ìž¬í•œë‹¤**. ë¬´ìž‘ì • chat.room.10 ì´ëŸ°ì‹ìœ¼ë¡œ ì±„íŒ…ë°© ë³„ topicì„ ì„¤ì •í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ ì§ì ‘ publish/consumeí•  ìˆ˜ ì—†ë‹¤.

[Is There a Limit on the Number of Topics in a Kafka Instance?](https://support.huaweicloud.com/intl/en-us/kafka_faq/kafka-faq-200426024.html)

### 5. ì´ìƒì ì¸ kafka í†µì‹ ë°©ë²•ì€ ë¬´ì—‡ì¼ê¹Œ?
ë¨¼ì € ì„œë²„ì˜ ìœ„ì¹˜ë¶€í„° ì •ë¦¬í•´ë³´ìž
* client : port:8080
* kafka ì„œë²„ : port:9092, port:9093
* chat Front Server : port:8081 - (ê¸°ëŠ¥ : ì„¸ì…˜/ì¸ì¦ê´€ë¦¬/ì›¹ì†Œì¼“ ê´€ë¦¬, ì—ëŸ¬ì²˜ë¦¬) - [**Confluent Rest Proxy**](https://docs.confluent.io/platform/current/tutorials/cp-demo/docs/overview.html#use-case)ì™€ ê°™ì€ ì—­í• 
  > Confluent Rest Proxy : ì¹´í”„ì¹´ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ì„ ê³ ë ¤í•´ POSTëŠ” Producerë¡œ, GETì€ Consumerë¡œ HTTPë¥¼ Kafkaì™€ ë§¤ì¹­ì‹œì¼œì£¼ëŠ” ê¸°ìˆ  or í”Œëž«í¼
* chat Backend Server : port:8083, port:8084 - (ê¸°ëŠ¥ : DBê´€ë¦¬, restapiServer, ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ìˆ˜í–‰) consumerGroup:groupId=chat

> Kafka í†µì‹ ìˆœì„œ ì˜ˆì‹œ(ë¡œì»¬ì—ì„œì˜ ì±„íŒ…ë°© ìž…ìž¥ ë° ì±„íŒ…ì „ì†¡)
> * ì±„íŒ…ë°© ìž…ìž¥
> 1. í´ë¼ì´ì–¸íŠ¸ëŠ” chat Front Serverì— `GET localhost:8081/chat/{roomId}` ìš”ì²­. í´ë¼ì´ì–¸íŠ¸ëŠ” ë¹„ë™ê¸°ë¡œ í•´ë‹¹ ìš”ì²­ì„ ì‹¤í–‰í•˜ë©°, webclientì˜ .subcribe()ìœ¼ë¡œ non-blocking ì‹¤í–‰í•œë‹¤.
     (Asnyc-NonBlockingì€ ì•„ëž˜ ì°¸ì¡°)
     > ![img](../../../assets/img/kafka/img.png)
     reference : [Blocking-NonBlocking-Synchronous-Asynchronous](https://homoefficio.github.io/2017/02/19/Blocking-NonBlocking-Synchronous-Asynchronous/)
> 2. `localhost:8081`ì€ ì´ë¥¼ ë°›ê³  `kakao.chat.chatRoom.REQUEST` í† í”½ìœ¼ë¡œ `localhost:9092`ì— ë©”ì„¸ì§€ë¥¼ putí•œë‹¤. { "userId":"HwangboGyumin", "roomId":10 }
> 3. `kakao.chat.chatRoom.REQUEST` í† í”½ ë‚´ ì‹¤ì œ ë©”ì„¸ì§€ê°€ ì‚½ìž…ëœ leader partitionì„ êµ¬ë…ì¤‘ì¸ Consumer `localhost:8083` ì€ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•œë‹¤.
> 4. `localhost:8083` ì€ ë¡œì§ ìˆ˜í–‰í•˜ì—¬ DBì—ì„œ ì´ì „ ì±„íŒ…ëª©ë¡ì„ `kakao.chat.chatRoom.RESPONSE` í† í”½ìœ¼ë¡œ `localhost:9092`ì— ë©”ì„¸ì§€ë¥¼ putí•œë‹¤.
> ```json
> {
>     "endpoint":"ws://localhost:8081/stomp/chat",
>     "chatRecord":{
>         "userId":"HwangboGyumin",
>         "roomId":10,
>         "chatMessage":{
>             "userId":"A",
>             "roomId":"10",
>             "meesage":"ì•ˆë…•?",
>             "createdAt":"20221213 13:10 +09:00 UST"
>         },{
>              "userId":"B",
>              ...
>         }
>     }
> }
> ```
>
> 5. `localhost:8081`ì€ í•´ë‹¹ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì— ì´ì „ì±„íŒ…ëª©ë¡ ë°˜í™˜
>
> * ì±„íŒ…ì „ì†¡
> 1. í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ì „ ì±„íŒ…ë°© ì ‘ì† ì‹œ ë°˜í™˜ë°›ì€ "endpoint":`ws://localhost:8081/stomp/chat`ì£¼ì†Œì— ì›¹ì†Œì¼“ì„ ì—°ê²°í•œë‹¤.
> 2. ì—°ê²°ì„±ê³µ ì´í›„, `POST localhost:8081/chat/{roomId}`ë¡œ chatMessageë¥¼ ì „ì†¡í•œë‹¤.
> 3. `localhost:8081`ì€ ì´ë¥¼ ìˆ˜ì‹ ë°›ê³  ë¨¼ì € `localhost:9092`ì— `kakao.chat.chatMessage.REQUEST` í† í”½ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.
> 4. `kakao.chat.chatMessage.REQUEST` í† í”½ ë‚´ ì‹¤ì œ ë©”ì„¸ì§€ê°€ ì‚½ìž…ëœ leader partitionì„ êµ¬ë…ì¤‘ì¸ Consumer `localhost:8083` ì€ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•œë‹¤.
> 5. `localhost:8083`ì€ ë¡œì§ ìˆ˜í–‰í•˜ì—¬ DBì— chatMessage ì €ìž¥ ë° `kakao.chat.chatMessage.RESPONSE`ì— ì„±ê³µì—¬ë¶€ ë©”ì„¸ì§€ë¥¼ putí•œë‹¤.
> 6. `localhost:8081`ì€ `kakao.chat.chatMessage.RESPONSE`í† í”½ì— ì €ìž¥ëœ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•˜ì—¬ chatMessage DBì €ìž¥ ì„±ê³µ ì—¬ë¶€ë¥¼ íŒë‹¨í•œë‹¤.
> 7. ì œëŒ€ë¡œ ì €ìž¥ë˜ì—ˆë‹¤ë©´, `localhost:8081`ì—ì„œ  stomp.send(topic:`/pub/chat/room/{roomId}`)ë¡œ chatMessageë¥¼ publishí•œë‹¤.
> 8. í´ë¼ì´ì–¸íŠ¸ëŠ” ì•„ëž˜ì™€ ê°™ì´ í•´ë‹¹ í† í”½ì„ ì›¹ì†Œì¼“ì„ í†µí•´ ìˆ˜ì‹ ë°›ê³  ìžˆê¸°ì— í™”ë©´ì— ì±„íŒ…ì´ í‘œì‹œëœë‹¤.
>
> ```javascript
> stomp.subscribe("/sub/chat/room/" + roomId, function (chatMessage) { ... }
> ```

### 6. í˜„ìž¬ì˜ í”„ë¡œì íŠ¸ì— Kafkaë¥¼ ì—°ë™í•¨ìœ¼ë¡œì¨ ì˜ˆìƒë˜ëŠ” ìž¥ì ìš”ì•½
* ì„œë²„ ìˆ˜í‰í™•ìž¥ì— ìžˆì–´ DB Sync ì„¤ì •ê°€ëŠ¥(Kafka Connectì˜ CDC)
  > Kafka Connect : íŠ¸ëžœì ì…˜ ë¡œê·¸ë“¤ë¡œ syncí•˜ê¸°ì— ACID ë³´ìž¥ê°€ëŠ¥
* ì„œë²„ ë‹¤ìš´ ì‹œ ëŒ€ì²˜ê°€ëŠ¥
  > kafkaì˜ zooKeeperì—ì„œ ë³€í™”ê°ì§€ ë° Consumer ë³€ê²½ ê°€ëŠ¥í•¨ìœ¼ë¡œì¨ ì„œë²„ë‹¤ìš´ëŒ€ì²˜ê°€ëŠ¥
* ë¶€ê°€ê¸°ëŠ¥ë“¤ ìžìœ ë¡­ê²Œ ìˆ˜í–‰ê°€ëŠ¥
  > ë©”ì„¸ì§€ì˜ ì‹¤ì‹œê°„ ì²˜ë¦¬ê°€ í•„ìš”ì—†ëŠ” ë¶€ê°€ê¸°ëŠ¥ë“¤ = ì‘ë‹µ ì•ˆê¸°ë‹¤ë ¤ë„ ë˜ëŠ” ê¸°ëŠ¥
  >
  > ex) ì–´ë·°ì € ê´€ì¸¡, ë¡œê·¸ì €ìž¥


#### (Appendix) ì¶”ê°€í•  ìž‘ì—…
* Chatting ë©”ì„¸ì§€ë¥¼ ì €ìž¥í•˜ëŠ” Repository ì¶”ê°€
> ê³ ë ¤í•  ì 
> 1. ì‚¬ìš©ìžê°€ **ë§ˆì§€ë§‰ì— ì½ì€ ì±„íŒ…ì˜ ìœ„ì¹˜ë¥¼ ì €ìž¥í•˜ëŠ” ì¹¼ëŸ¼ ì¶”ê°€**
> 2. ì§€ê¸ˆ ì±„íŒ…ë°©ì— ìž…ìž¥í• ë•Œë§ˆë‹¤ ìž…ìž¥ë©”ì„¸ì§€ê°€ í‘œì‹œëœë‹¤. ì´ê²ƒì„ ì‚­ì œí•˜ê³  ìž…ìž¥ë©”ì„¸ì§€ì˜ í† í”½ì¸ /pub/chat/enterì˜ í•¸ë“¤ëŸ¬ë¥¼ ê±°ì¹ ë•Œë§ˆë‹¤ **ë§ˆì§€ë§‰ ì½ì€ ë©”ì„¸ì§€ì˜ ìœ„ì¹˜ í‘œì‹œ(ë°˜í™˜)**
> 3. ì¹´ì¹´ì˜¤ì˜ `í†¡ì„œëž`ì²˜ëŸ¼ ë‚˜í•œí…Œ ì¤‘ìš”í•œ ë©”ì„¸ì§€ë“¤ì„ ì±„íŒ…ë°©,ì±„íŒ…ë©”ì„¸ì§€,ì‹œê°„ ì´ë ‡ê²Œ ì €ìž¥í•  ìˆ˜ ìžˆë„ë¡ **ì¤‘ìš”ë©”ì„¸ì§€ ì €ìž¥ í…Œì´ë¸” ì¶”ê°€**
* Room/Participant ì œê±°ê¸°ëŠ¥ ì¶”ê°€
* Userê°€ ì‚­ì œë˜ì—ˆì„ ë•Œ, ì—°ê´€ëœ ë°ì´í„° ì‚­ì œí•˜ë„ë¡ ë°ì´í„° íë¦„ ê´€ì°°(JPAì‹¤ì œ ì¿¼ë¦¬ë¬¸ ê´€ì°°)
* Kafka ì„¤ì •
    * **UserServer/FriendServer/ChattingServer ì „ë¶€ ë”°ë¡œ ë–¼ì„œ Kafkaë¥¼ í†µí•´ ì„œë¡œ ë©”ì„¸ì§€ë¥¼ ì£¼ê³ ë°›ë„ë¡ ì„¤ì •**
> ê³ ë ¤í•  ì 
> * Partition + Broker ì¶”ê°€
> * Docker-composeë¡œ Kafka/DB/Spring êµ¬ë™ íŽ¸ë¦¬ì„± ë„ëª¨
> * Spring ì„œë²„ ë‹¤ìš´ ì‹œ, ëŒ€ì±…ë§ˆë ¨
> * ë©”ì‹œì§€ê°€ ì†Œë¹„ë  ë–„, ë©±ë“±ì„± ê³ ë ¤í•´ì•¼í•¨
> * ElasticSearch LoggingServer ì¶”ê°€




#### Reference
* [https://softwareengineering.stackexchange.com/questions/422177/is-kafka-needed-in-a-realtime-chat-application](https://softwareengineering.stackexchange.com/questions/422177/is-kafka-needed-in-a-realtime-chat-application)
* [https://www.confluent.io/blog/sync-databases-and-remove-silos-with-kafka-cdc/](https://www.confluent.io/blog/sync-databases-and-remove-silos-with-kafka-cdc/)
* [https://softwareengineering.stackexchange.com/questions/422177/is-kafka-needed-in-a-realtime-chat-application](https://softwareengineering.stackexchange.com/questions/422177/is-kafka-needed-in-a-realtime-chat-application)
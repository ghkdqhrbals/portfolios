---
layout: default
title: Grafana Redis Cluster 대시보드 + Stream lag 모니터링 쿼리
parent: 토스 러너스 하이 2기
date: 2025-12-26
---

기본 샤딩된 stream 별 소비자 그룹 및 컨슈머 lag 모니터링을 추가했습니다.

![2](../2025-12-26-18-00-11.png)

그리고 link 들어가면 아래처럼 pending 된 메세지들을 확인하는 페이지로 이동하도록 설정하였습니다.

![3](../2025-12-26-18-01-46.png)

그리고 ollama 서비스, 프로젝트 서비스 상태도 html 로 임베딩해서 볼 수 있도록 설정했습니다.

![4](../2025-12-26-18-03-19.png)

redis cluster 에 어떤 명령어가 수행되었고 사용율이 어느정도인지 한 눈에 볼 수 있도록 좀 더 직관적으로 대시보드를 수정했습니다. master, slave 확인할 수 있도록 분리하였고 명령어 지연시간도 측정하였습니다.

![5](../2025-12-26-18-07-58.png)

이렇게 까지 모니터링 대시보드를 만져본 적이 없는데 서버 작업과 달리 시각화되어 바로바로 보는 맛이 있네요. 이제 알람구성을 진행할 차례입니다.

// Accent palette (optional future use)
$pink-000: #f77ef1;
$pink-100: #f967f1;
$pink-200: #e94ee1;
$pink-300: #dd2cd4;

// Lightweight utility classes
.u-note {background:#f9fafb;border:1px solid #e5e7eb;padding:10px 14px;border-radius:6px;margin:18px 0;font-size:14px;}
.u-inline {display:inline-block;}
.u-mono {font-family:Menlo,Consolas,monospace;}
.u-tight {margin-top:0.25rem;margin-bottom:0.25rem;}

/* Slightly tighter leading (line spacing) */
.main-content {
	line-height: 1.5;
}

/* --- Navigation refinement (professional style) --- */
.side-bar {background:linear-gradient(180deg,#111 0%,#181a1f 100%); box-shadow: 2px 0 6px rgba(0,0,0,.4);} 
.site-title {font-weight:600; letter-spacing:.5px;}

.nav-list {padding-left:0; margin:0; list-style:none;}
.nav-list > .nav-list-item {position:relative;}
.nav-list-link {display:flex; align-items:center; gap:.4rem; padding:6px 10px 6px 14px; border-left:3px solid transparent; font-size:14px; line-height:1.25; color:#d0d4db; transition:background .16s ease,border-color .2s ease,color .2s ease;} 
.nav-list-link:hover {background:#1f2329; color:#fff; text-decoration:none;}
.nav-list-link.active {background:#22262d; color:#fff; font-weight:600; border-left-color:#4f8cff;}
.nav-list-expander {display:inline-flex; align-items:center; justify-content:center; width:24px; height:24px; margin-right:2px; color:#7a828e; border-radius:4px; background:transparent !important; box-shadow:none !important; transition:color .15s;}
.nav-list-expander:hover {color:#fff; text-decoration:none; background:transparent;}
.nav-list-expander .nav-expander-icon {width:16px; height:16px; transform:rotate(0deg); transform-origin:50% 50%; transition:transform .25s ease;}
.nav-list-item.active > .nav-list-expander .nav-expander-icon[aria-expanded=true],
.nav-list-expander[aria-expanded=true] .nav-expander-icon {transform:rotate(90deg);} 

/* Badges */
.nav-badge {
	display:inline-flex; 
	align-items:center; 
	justify-content:center; 
	font-size:10px; 
	font-weight:600; 
	min-width:18px; 
	padding:0 5px; 
	height:16px; 
	border-radius:8px; 
	background:rgba(255,255,255,0.08); 
	color:#8b92a0; 
	line-height:1; 
	border:none;
	letter-spacing:0.3px;
	font-family: 'Monaco', 'Menlo', monospace;
	margin-left:auto;
	transition: all 0.2s ease;
}
.nav-list-link:hover .nav-badge {
	background:rgba(255,255,255,0.12); 
	color:#b5c0cc;
}

/* Navigation Icons */
.nav-icon {
	width: 20px;
	height: 20px;
	margin-right: 6px;
	object-fit: contain;
	vertical-align: middle;
	filter: brightness(0.9);
	transition: filter 0.2s ease;
}
.nav-list-link:hover .nav-icon {
	filter: brightness(1);
}
.nav-list-link.active .nav-badge {
	background:rgba(79,140,255,0.2); 
	color:#66aaff;
	font-weight:700;
}

/* Date */
.nav-date {font-size:11px; font-weight:400; color:#6d7680; margin-right:2px;}
.nav-list-link.active .nav-date {color:#99a3af;}

/* Leaf titles subtle lighten */
.nav-leaf-title {flex:1;}

/* Level indent */
.nav-list > .nav-list-item > ul.nav-list {margin-left:.75rem; border-left:1px dashed #2a333c;}
.nav-list ul.nav-list ul.nav-list {margin-left:.75rem; border-left:1px dashed #273038;}

/* Scroll styling (desktop) */
.site-nav {scrollbar-width:thin; scrollbar-color:#657e92 transparent;} /* transparent track */
.site-nav::-webkit-scrollbar {width:8px;}
/* Lighten track so hover되지 않은 영역이 먹색 블록처럼 보이지 않도록 */
.site-nav::-webkit-scrollbar-track {background:transparent;}
/* 반투명 thumb 로 전체가 먹색으로 꽉 차 보이는 현상 방지 */
.site-nav::-webkit-scrollbar-thumb {background:linear-gradient(180deg,rgba(140,172,196,.65),rgba(110,140,160,.55)); border-radius:6px; border:2px solid rgba(120,150,170,.25); box-shadow:0 0 0 1px rgba(90,120,140,.25) inset;}
.site-nav::-webkit-scrollbar-thumb:hover {background:linear-gradient(180deg,rgba(160,190,210,.85),rgba(130,165,185,.7)); border-color:rgba(140,175,195,.45);}
/* Hover 시에도 track 투명 유지 */
.site-nav:hover::-webkit-scrollbar-track {background:transparent;}

/* Focus */
.nav-list-link:focus-visible, .nav-list-expander:focus-visible {outline:2px solid #4f8cff; outline-offset:1px;}

/* Aux links 아이콘 스타일 */
.aux-nav .aux-nav-list-item a {
	display: inline-flex !important;
	align-items: center;
	justify-content: center;
	padding: 6px !important;
	background: transparent !important;
	border: none !important;
	text-decoration: none !important;
}

.aux-nav .aux-nav-list-item a img {
	width: 22px;
	height: 22px;
	filter: grayscale(1) brightness(0.7);
	transition: filter 0.2s ease;
}

.aux-nav .aux-nav-list-item a:hover {
	background: transparent !important;
	text-decoration: none !important;
}

.aux-nav .aux-nav-list-item a:hover img {
	filter: grayscale(0) brightness(1);
}

@media (max-width: 860px){
	.side-bar {box-shadow:none;}
	.nav-list-link {padding:6px 8px 6px 12px;}
	.nav-badge {display:none;} /* space conservation */
}

/* === Enhanced Code Block Styling === */

/* 코드 블럭 내부 텍스트 스타일 개선 */
div.highlight pre.highlight,
figure.highlight pre {
	color: #abb2bf;
  line-height: 1.6;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
}

/* 구문 강조 색상 (One Dark 테마 스타일) */
.highlight {
  * { background-color: transparent !important; }
	
	.k, .kd, .kn, .kp, .kr, .kt { color: #c678dd !important; } /* 키워드 */
	.s, .s1, .s2, .sb, .sc, .sd, .se, .sh, .si, .sx { color: #98c379 !important; } /* 문자열 */
	.m, .mf, .mh, .mi, .mo, .il { color: #d19a66 !important; } /* 숫자 */
	.n, .na, .nb, .nc, .nd, .ne, .nf, .ni, .nl, .nn, .no, .nt, .nv, .nx { color: #61afef !important; } /* 이름/함수 */
	.c, .c1, .cm, .cp, .cs { color: #5c6370 !important; font-style: italic; } /* 주석 */
	.o, .ow { color: #56b6c2 !important; } /* 연산자 */
	.err { color: #e06c75 !important; } /* 에러 */
	.p { color: #abb2bf !important; } /* 괄호 */
}

/* 라인 넘버 스타일 */
.highlight .lineno {
  color: #5c6370;
  user-select: none;
  text-align: right;
  padding-right: 1em;
  border-right: 1px solid #3e3e3e;
  margin-right: 1em;
}

/* 스크롤바 스타일 (코드 블럭) */
div.highlight::-webkit-scrollbar,
figure.highlight pre::-webkit-scrollbar {
  height: 8px;
	background: #2d2d2d;
}

div.highlight::-webkit-scrollbar-thumb,
figure.highlight pre::-webkit-scrollbar-thumb {
	background: #4a4a4a;
  border-radius: 4px;
}

div.highlight::-webkit-scrollbar-thumb:hover,
figure.highlight pre::-webkit-scrollbar-thumb:hover {
	background: #5a5a5a;
}

/* 코드 블럭 호버 시 미세한 애니메이션 */
div.highlighter-rouge,
figure.highlight {
  transition: transform 0.2s ease;
}

/* 전역 링크 스타일 */
.main-content a {
  color: #0a66c2 !important;
  text-decoration: none !important;
  border-bottom: none !important;
  background: transparent !important;
}

.main-content a:hover {
  color: #1d4ed8 !important;
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  text-underline-offset: 2px !important;
  border-bottom: none !important;
  background: transparent !important;
}

/* Print: show link URLs inline */
@media print {
	 /* 강제 우선순위 부여, 일부 PDF 엔진이 색/밑줄 제거 시도 방지 */
	 a {text-decoration:underline !important; color:#0645ad !important; cursor:pointer !important;}
	 a:visited {color:#0b0080 !important;}
	 a:active, a:hover {color:#ba0000 !important;}
	 a:focus {outline:1px dotted #333 !important;}
	 a[href^="http"], a[href^="https"] {word-break:break-word;}
	 /* 혹시 pointer-events 제거된 경우 복구 */
	 a {pointer-events:auto !important;}
	 /* CV 페이지 링크 더 진하게 */
	 .page-cv a {color:#003c99 !important; font-weight:600 !important;}
	 .page-cv a:visited {color:#002f73 !important;}
	 .page-cv a:active, .page-cv a:hover {color:#ba0000 !important;}
	/* Hide navigation & non-essential UI while keeping content like about page */
	.side-bar, .site-header, nav[aria-label="Main"], .nav-list-expander, .search, .search-input-wrap {display:none !important;}
	#guestbook-section {display:none !important;}
	body {background:#fff !important;}
	/* 코드 블럭 프린트용 스타일 */
	div.highlighter-rouge, figure.highlight {
		border: 1px solid #ccc !important;
		background: #f5f5f5 !important;
	}
}

/* === Guestbook (minimal, theme-aligned) === */

#guestbook-status {display:none;}
#guestbook-form {display:none;}

#guestbook-section {
	margin-top: $sp-7;
	padding-top: $sp-5;
	border-top: $border $border-color;
	background: transparent;
}

.page-index #guestbook-section.recent-guestbook {
	margin-top: $sp-4;
	padding-top: 0;
	border-top: 0;
}

.guestbook-list {margin:0; padding:0;}

.guestbook-thread {margin:0; padding:0;}

.guestbook-entry {
	background: transparent;
	border: 0;
	border-bottom: $border $border-color;
	border-radius: 0;
	padding: 0.16rem 0;
	margin: 0;
	display: grid;
	grid-template-columns: max-content minmax(0, 1fr) max-content max-content;
	align-items: center;
	gap: $sp-3;
	line-height: 1.08;
	font-size: $font-size-4;
	font-weight: 400;
}

.guestbook-reply {
	padding: 0.16rem 0;
	margin-left: 1.25rem;
	display: grid;
	grid-template-columns: max-content minmax(0, 1fr) max-content max-content;
	align-items: center;
	gap: $sp-3;
	border-bottom: $border $border-color;
	line-height: 1.08;
	font-size: $font-size-4;
	font-weight: 400;
}

.guestbook-reply:last-child {border-bottom: 0;}

.guestbook-entry:last-child {
	border-bottom: 0;
}

.entry-name {font-weight:600; color:$body-heading-color;}

.entry-date {font-size:$font-size-2; color:$search-result-preview-color; white-space:nowrap;}

.entry-message {
	color:$body-text-color;
	line-height: 1.08;
	white-space: pre-wrap;
	overflow: visible;
	text-overflow: clip;
	overflow-wrap: anywhere;
}

.entry-actions {display:inline-flex; gap:$sp-2; justify-self:end;}

.entry-actions {
	opacity: 0;
	visibility: hidden;
	transition: opacity 120ms ease;
}

.guestbook-entry:hover .entry-actions,
.guestbook-reply:hover .entry-actions,
.guestbook-entry:focus-within .entry-actions,
.guestbook-reply:focus-within .entry-actions {
	opacity: 1;
	visibility: visible;
}

@media (hover: none) {
	.entry-actions {opacity: 1; visibility: visible;}
}

.action-btn {
	display:inline-flex;
	align-items:center;
	justify-content:center;
	padding:0.22rem 0.55rem;
	border-radius:$border-radius;
	border: 0;
	background: transparent;
	color:$search-result-preview-color;
	font-size:$font-size-3;
	line-height:1.2;
	cursor:pointer;
	box-shadow:none;

	&:hover {
		background: transparent;
		color: $body-text-color;
		text-decoration: underline;
		text-underline-offset: 2px;
	}
	&:focus-visible {outline:2px solid $link-color; outline-offset:2px;}
}

@media (max-width: 700px) {
	.guestbook-entry {
		grid-template-columns: max-content minmax(0, 1fr);
		grid-template-areas:
			"name message"
			"date actions";
		align-items: start;
	}
	.entry-name {grid-area: name;}
	.entry-message {grid-area: message;}
	.entry-date {grid-area: date;}
	.entry-actions {grid-area: actions; justify-self: end;}
}

.edit-btn {
	color:$search-result-preview-color;
	&:hover {background: transparent;}
}

.delete-btn {
	color:$search-result-preview-color;
	&:hover {background: transparent;}
}

.guestbook-form {
	margin-top:$sp-4;
	padding: 0;
	border: 0;
	background: transparent;
	display: grid;
	grid-template-columns: minmax(120px, 160px) minmax(120px, 160px) minmax(0, 1fr) max-content;
	grid-template-areas:
		"name password message submit";
	align-items: center;
	gap: $sp-2;
	width: 100%;
}

.form-group {margin-bottom:$sp-4;}

.guestbook-form .form-group {
	margin-bottom: 0;
	flex: 0 0 auto;
	min-width: 0;
}

.guestbook-form .gb-name {grid-area: name;}
.guestbook-form .gb-password {grid-area: password;}
.guestbook-form .gb-message {grid-area: message;}

.guestbook-form .form-message {
	width: 100%;
	min-width: 0;
}

.form-input,
.form-textarea {
	width:100%;
	min-width:0;
	box-sizing:border-box;
	padding:0.45rem 0.6rem;
	border:$border $border-color;
	border-radius:$border-radius;
	background:$body-background-color;
	color:$body-text-color;
	font-size:$font-size-4;

	&:focus {
		outline:none;
		border-color: rgba($link-color, 0.55);
		box-shadow: 0 0 0 3px rgba($link-color, 0.18);
	}
}

.form-input::placeholder,
.gb-reply-form input::placeholder {
	font-size: $font-size-2;
	opacity: 0.8;
}

/* Reply form (inline) */
.gb-reply-form {
	margin: 0.35rem 0 0.6rem 1.25rem;
	display: grid;
	grid-template-columns: minmax(120px, 160px) minmax(120px, 160px) minmax(0, 1fr) max-content max-content;
	gap: $sp-2;
	align-items: center;
}

.gb-reply-form input,
.gb-reply-form textarea {
	min-width: 0;
	border: 0;
	border-bottom: $border $border-color;
	border-radius: 0;
	background: transparent;
	padding: 0.35rem 0.2rem;
	font-size: $font-size-4;
	line-height: 1.35;
	resize: none;
	overflow: hidden;

	&:focus {
		outline: none;
		border-bottom-color: rgba($link-color, 0.55);
		box-shadow: 0 2px 0 0 rgba($link-color, 0.20);
	}
}

.gb-reply-submit,
.gb-reply-cancel {
	border: 0;
	background: transparent;
	color: $search-result-preview-color;
	font-size: $font-size-3;
	padding: 0.2rem 0.4rem;
	cursor: pointer;

	&:hover {
		color: $body-text-color;
		text-decoration: underline;
		text-underline-offset: 2px;
	}
}

/* Make main inputs simpler too */
.guestbook-form .form-input {
	border: 0;
	border-bottom: $border $border-color;
	border-radius: 0;
	background: transparent;
	box-shadow: none;
	padding: 0.35rem 0.2rem;
}

.guestbook-form textarea.form-input {
	resize: none;
	overflow: hidden;
}

.guestbook-form .form-input:focus {
	box-shadow: 0 2px 0 0 rgba($link-color, 0.20);
}

.form-textarea {min-height:110px; resize:vertical;}

.submit-btn {
	@extend .btn;
	padding:0.32rem 0.75rem;
	font-size: $font-size-3;
	line-height: 1.2;
	background: transparent;
	color: $search-result-preview-color;
	box-shadow: none;
	border: 0;
	grid-area: submit;
	align-self: center;

	&:hover {
		background: transparent;
		color: $body-text-color;
		text-decoration: underline;
		text-underline-offset: 2px;
	}
}

.guestbook-pagination {
	display: none;
	align-items: center;
	justify-content: flex-end;
	gap: $sp-2;
	margin-top: $sp-2;
	margin-bottom: $sp-3;
}

.gb-page-btn {
	border: 0;
	background: transparent;
	color: $search-result-preview-color;
	font-size: $font-size-3;
	padding: 0.2rem 0.4rem;
	cursor: pointer;

	&:hover {
		color: $body-text-color;
		text-decoration: underline;
		text-underline-offset: 2px;
	}

	&:disabled {
		opacity: 0.45;
		cursor: default;
		text-decoration: none;
	}
}

.gb-page-info {
	color: $search-result-preview-color;
	font-size: $font-size-2;
}

@media (max-width: 700px) {
	.guestbook-form {
		grid-template-columns: 1fr;
		grid-template-areas:
			"name"
			"password"
			"message"
			"submit";
	}
	.guestbook-form .form-message {
		flex: 1 1 100%;
		min-width: 0;
	}
	.submit-btn {justify-self: end;}
}

/* === Recent posts (home) - keep as clean as comments === */

#recent-root.recent-root {
	margin-top: $sp-7;
	padding-top: $sp-5;
	border-top: $border $border-color;
}

.recent-meta {
	color: $search-result-preview-color;
	font-size: $font-size-2;
	margin: 0 0 $sp-2 0;
}

.recent-list {
	list-style: none;
	margin: 0;
	padding: 0;
}

.recent-list li {
	display: grid;
	grid-template-columns: max-content max-content minmax(0, 1fr);
	gap: $sp-2;
	align-items: baseline;
	padding: 0.16rem 0;
	border-bottom: $border $border-color;
	line-height: 1.08;
	font-size: $font-size-4;
	font-weight: 400;
}

.recent-list li:last-child {border-bottom: 0;}

.recent-list li::before {display: none !important; content: none !important;}

.recent-list .r-date {
	font-size: inherit;
	color: $search-result-preview-color;
	white-space: nowrap;
	font-weight: inherit;
}

.recent-list .tags {
	font-size: inherit;
	color: $search-result-preview-color;
	white-space: nowrap;
	font-weight: inherit;
}

.recent-list .r-title {min-width: 0;}

.recent-list .r-title a {
	color: $body-text-color;
	font-size: inherit;
	font-weight: inherit;
	text-decoration: none;
	border-bottom: 0;
	background-image: none;
}

.recent-list .r-title a:hover {
	text-decoration: underline;
	text-underline-offset: 2px;
}

.recent-controls {
	display: flex;
	justify-content: flex-end;
	align-items: center;
	gap: $sp-2;
	margin-top: $sp-2;
}

.recent-count {
	color: $search-result-preview-color;
	font-size: $font-size-2;
}

.recent-empty {
	padding: 0.6rem 0;
	color: $search-result-preview-color;
	font-size: $font-size-2;
}

@media (max-width: 700px) {
	.recent-list li {
		grid-template-columns: max-content minmax(0, 1fr);
		grid-template-areas:
			"date title"
			"tag title";
		align-items: start;
	}
	.recent-list .r-date {grid-area: date;}
	.recent-list .tags {grid-area: tag;}
	.recent-list .r-title {grid-area: title;}
}

